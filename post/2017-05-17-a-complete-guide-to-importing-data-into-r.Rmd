---
title: A complete guide to importing data into R
date: '2017-01-08'
slug: a-complete-guide-to-importing-data-into-r
topics:
  - data-wrangling
tags:
  - import
  - data
draft: yes
---

<style type="text/css">
.table {
  width: 50%;
}
</style>

[![Twitter](http://i.imgur.com/tXSoThF.png)](https://twitter.com/login?redirect_after_login=%2Fhome%3Fstatus)
[![Facebook](http://i.imgur.com/P3YfQoD.png)](https://www.facebook.com/sharer/sharer.php?u=)

### Introduction

This is the third post in the series **Introduction to tidyverse**. In the previous [post](https://rsquaredacademy.github.io/blog/post/introduction-to-tibbles/), we learnt about tibbles. In this post, we will learn to import data into R from different sources. Importing data is the first step in any data analysis workflow. If you cannot import data from differernt sources or file formats, you cannot proceed with data analysis. R allows you to import data from several sources and a variety of file formats. In this post, we will focus on different file formats. 

### Libraries

We will use the following libraries in this post:

- [readr](http://readr.tidyverse.org/)
- [readxl](http://readxl.tidyverse.org/)
- [haven](http://haven.tidyverse.org/)

### Data & Code

All the data sets used in this post can be found [here](https://github.com/rsquaredacademy/datasets) and code can be downloaded from [here]().

```{r imp1, echo=FALSE, eval=TRUE, results='hide', message=FALSE}
library(readr)
library(readxl)
library(haven)
```

### Flat Files

Function      | Delimiter
------------- | ---------
`read_csv`    | comma
`read_csv2`   | semicolon
`read_tsv`    | tab
`read_table`  | space
`read_table2` | multiple space
`read_delim`  | specify delim

## Options

Argument     | Description
------------ | ---------
`file`       | path to file
`col_names`  | whether data includes column names
`col_types`  | specify column type
`skip`       | number of records to skip
`n_max`      | maximum number of records to read
`na`         | specify how missing values are represented

### General

You can use `read_delim()` and specify the separator using `delim` to read data from any delimited file. CSV (comma separated values) is a very popular file format. We can read data from CSV files using `read_csv()`. If the separator is `;`, use `read_csv2()`. If the delimiter is a tab, use `read_tsv()`.

```{r imp6, collapse=TRUE, message=FALSE}
# read_csv
read_csv('hsb2.csv')

# col_names
read_csv('hsb2.csv', col_names = FALSE)

# skip records
read_csv('hsb2.csv', col_names = FALSE, skip = 1)

# max records to read
read_csv('hsb2.csv', n_max = 50)
```

### Table

If the columns are separated by space, use `read_table()`. If the number of whitespace characters between columns is not fixed or th lines are of different length, use `read_table2()`.


```{r imp7, collapse=TRUE}
# readr::read_table()

# readr::read_table2()
```

### Specify Column Type

We can specify the column type for each column while reading data from a file. If we do not specify the column type, it will be detected based on the first 1000 rows of input. If the column type is not detected correctly, we need to specify them. When we specify the column type, it must be done for all the columns, else an error will be returned. In the next example, we will specify the column type for each column and also see what happens when we miss out on a couple of columns.

```{r imp10}
# col_integer(), col_logical, col_character, col_double, col_datetime, col_date, col_time
```

### Read Specific Columns

If you are interested in reading only a few columns instead of all, use `cols_only()`. Let us read 3 columns from the data set.

### Excel

You can read data from `.xls` or `.xlsx` files using `read_excel()` from the [readxl](http://readxl.tidyverse.org/) package. It takes 2 arguments:

- file name
- the sheet number

```{r imp11}
# readxl::read_excel()
```

### Statistical Softwares

You can read data from other statistical softwares such as STATA, SPSS and SAS using the [haven](http://haven.tidyverse.org/) package.

```{r imp12}
# haven::read_stata()

# haven::read_spss()

# haven::read_sas()
```

## Summary

## Up Next..