<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="generator" content="Hugo 0.19" />

  <title>Data Visualization with R - Histogram &middot; Rsquared Academy Blog</title>

  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.2/pure-min.css">

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.2/grids-responsive-old-ie-min.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.2/grids-responsive-min.css">
  <!--<![endif]-->

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="../../css/side-menu-old-ie.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="../../css/side-menu.css">
  <!--<![endif]-->

  <link rel="stylesheet" href="../../css/blackburn.css">

  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

  
  <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet" type="text/css">

  
  

  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/styles/github.min.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  

  <link rel="shortcut icon" href="../../img/favicon.ico" type="image/x-icon" />


  
  

</head>


<body>
<div id="layout">

  
<a href="#menu" id="menuLink" class="menu-link">
  
  <span></span>
</a>
<div id="menu">

  
  <a class="pure-menu-heading brand" href="../../"><img src="../../img/logo.png" alt="Mapflat logo"></a>


  <div class="pure-menu">
    <ul class="pure-menu-list">
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="../../"><i class='fa fa-home fa-fw'></i>Home</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="../../start-here"><i class='fa fa-play fa-fw'></i>New? Start Here</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="../../post/"><i class='fa fa-list fa-fw'></i>Posts</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="../../topics"><i class='fa fa-bars fa-fw'></i>Topics</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://rsquaredacademy.github.io/"><i class='fa fa-graduation-cap fa-fw'></i>Courses</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="http://rsquaredlabs.com:3838/explorer/"><i class='fa fa-cube fa-fw'></i>Shiny Apps</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://rsquaredacademy.github.io/pkgs/"><i class='fa fa-code fa-fw'></i>Packages</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="../../about/"><i class='fa fa-user fa-fw'></i>About</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="../../subscribe/"><i class='fa fa-envelope fa-fw'></i>Subscribe</a>
      
        </li>
      
    </ul>
  </div>

  <div class="pure-menu social">
  <ul class="pure-menu-list">

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://twitter.com/rsquaredacademy" target="_blank"><i class="fa fa-twitter-square fa-fw"></i>Twitter</a>
    </li>
    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://facebook.com/rsquaredacademy" target="_blank"><i class="fa fa-facebook-square fa-fw"></i>Facebook</a>
    </li>
    

    

    

    

    

    

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://youtube.com/user/rsquaredin" target="_blank"><i class="fa fa-youtube-square fa-fw"></i>YouTube</a>
    </li>
    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://vimeo.com/rsquaredacademy" target="_blank"><i class="fa fa-vimeo-square fa-fw"></i>Vimeo</a>
    </li>
    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="http://slideshare.net/rsquaredin" target="_blank"><i class="fa fa-slideshare fa-fw"></i>SlideShare</a>
    </li>
    

    

    

    

    

    

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://github.com/rsquaredacademy" target="_blank"><i class="fa fa-github-square fa-fw"></i>GitHub</a>
    </li>
    

    

    

    

    

    

    

    

    

    

    

    

    

  </ul>
</div>


  <div>
  <div class="small-print">
    <small>&copy; 2014-2017. All rights reserved.</small>
  </div>
  <div class="small-print">
    <small>Built with&nbsp;<a href="https://gohugo.io/" target="_blank">Hugo</a></small>
    <small>Theme&nbsp;<a href="https://github.com/yoshiharuyamashita/blackburn" target="_blank">Blackburn</a></small>
  </div>
</div>

</div>


  <div id="main">


<div class="header">
  <h1>Data Visualization with R - Histogram</h1>
  <h2></h2>
</div>
<div class="content">

  <div class="post-meta">

  <div>
    <i class="fa fa-calendar fa-fw"></i>
    <time>06 Nov 2015, 00:00</time>
  </div>

  

  
  
  
  <div>
    <i class="fa fa-folder fa-fw"></i>
    
      <a class="post-taxonomy-topic" href="../../topics/data-visualization">data-visualization</a>
    
  </div>
  
  

  
  
  
  <div>
    <i class="fa fa-tags fa-fw"></i>
    
      <a class="post-taxonomy-tag" href="../../tags/base">base</a>&nbsp;&#47;
    
      <a class="post-taxonomy-tag" href="../../tags/visualization">visualization</a>&nbsp;&#47;
    
      <a class="post-taxonomy-tag" href="../../tags/histogram">histogram</a>
    
  </div>
  
  

</div>

  <p>This is the seventh post in the series <strong>Data Visualization With R</strong>. In the previous post, we learnt about box and whisker plots. In this post, we will learn about histograms.</p>
<div id="introduction" class="section level3">
<h3>Introduction</h3>
<p>A histogram is a plot that can be used to examine the shape and spread of continuous data. It looks very similar to a bar graph and can be used to detect outliers and skewness in data. The histogram graphically shows the following:</p>
<ul>
<li>center (location) of the data</li>
<li>spread (dispersion) of the data</li>
<li>skewness</li>
<li>outliers</li>
<li>presence of multiple modes</li>
</ul>
<p>To construct a histogram, the data is split into intervals called bins. The intervals may or may not be equal sized. For each bin, the number of data points that fall into it are counted (frequency). The Y axis of the histogram represents the frequency and the X axis represents the variable.</p>
<div id="distributions" class="section level4">
<h4>Distributions</h4>
<p>Before we learn how to create histograms, let us see how normal and skewed distributions look when represented by a histogram.</p>
<div id="normal-distribution" class="section level5">
<h5>Normal Distribution</h5>
<p><img src="../../post/2017-05-17-data-visualization-with-r-histogram_files/figure-html/hist1-1.png" width="480" style="display: block; margin: auto;" /></p>
</div>
<div id="skewed-distributions" class="section level5">
<h5>Skewed Distributions</h5>
<p><img src="../../post/2017-05-17-data-visualization-with-r-histogram_files/figure-html/hist2-1.png" width="960" style="display: block; margin: auto;" /></p>
</div>
</div>
</div>
<div id="basics" class="section level3">
<h3>Basics</h3>
<p>Histograms are created using the <code>hist()</code> function in R. The minimum input required to create a bare bones histogram is a continuous variable. Below is an example:</p>
<p><img src="../../post/2017-05-17-data-visualization-with-r-histogram_files/figure-html/hist3-1.png" width="480" style="display: block; margin: auto;" /></p>
<p>The <code>hist()</code> functions returns details of the histogram which can be accessed by assigning the histogram to a variable. Let us assign the above histogram to a variable <code>h</code> and use the <code>$</code> symbol to access the details stored in the variable.</p>
<pre class="r"><code># store the results of hist function
h &lt;- hist(mtcars$mpg)</code></pre>
<p><img src="../../post/2017-05-17-data-visualization-with-r-histogram_files/figure-html/hist4-1.png" width="672" /></p>
<pre class="r"><code># display number of breaks
h$breaks</code></pre>
<pre><code>## [1] 10 15 20 25 30 35</code></pre>
<pre class="r"><code># frequency of the intervals
h$counts</code></pre>
<pre><code>## [1]  6 12  8  2  4</code></pre>
<pre class="r"><code># frequency density
h$density</code></pre>
<pre><code>## [1] 0.0375 0.0750 0.0500 0.0125 0.0250</code></pre>
<pre class="r"><code># mid points of the intervals
h$mids</code></pre>
<pre><code>## [1] 12.5 17.5 22.5 27.5 32.5</code></pre>
<pre class="r"><code># varible name
h$xname</code></pre>
<pre><code>## [1] &quot;mtcars$mpg&quot;</code></pre>
<pre class="r"><code># whether intervals are of equal size
h$equidist</code></pre>
<pre><code>## [1] TRUE</code></pre>
<div id="bins" class="section level4">
<h4>Bins</h4>
<p>The <code>hist()</code> function creates equidistant intervals by default. We can specify the number of bins using the <code>breaks</code> argument.</p>
<p><img src="../../post/2017-05-17-data-visualization-with-r-histogram_files/figure-html/hist5-1.png" width="480" style="display: block; margin: auto;" /></p>
<p>The below plot displays histograms with different number of bins:</p>
<p><img src="../../post/2017-05-17-data-visualization-with-r-histogram_files/figure-html/hist6-1.png" width="960" style="display: block; margin: auto;" /></p>
</div>
<div id="intervals" class="section level4">
<h4>Intervals</h4>
<p>If we want to create histograms with specific intervals, the <code>breaks</code> argument can be supplied with the intervals.</p>
<p><img src="../../post/2017-05-17-data-visualization-with-r-histogram_files/figure-html/hist7-1.png" width="480" style="display: block; margin: auto;" /></p>
<p>If you observe the Y axis, it does not represent frequency any more. Instead, it represents the frequency density. What is frequency density?</p>
</div>
<div id="frequency-density" class="section level4">
<h4>Frequency Density</h4>
<p>Frequency Density = Relative Frequency / Class Width</p>
<p>Relative Frequency = Frequency / Total Observations</p>
<pre class="r"><code>h &lt;- hist(mtcars$mpg, breaks = c(10, 18, 24, 30, 35))</code></pre>
<p><img src="../../post/2017-05-17-data-visualization-with-r-histogram_files/figure-html/hist8-1.png" width="672" /></p>
<pre class="r"><code>frequency &lt;- h$counts
class_width &lt;- c(8, 6, 6, 5)
rel_freq &lt;- frequency / length(mtcars$mpg)
freq_density &lt;- rel_freq / class_width
d &lt;- data.frame(frequency = frequency, class_width = class_width, relative_frequency = rel_freq, frequency_density = freq_density)
d</code></pre>
<pre><code>##   frequency class_width relative_frequency frequency_density
## 1        13           8            0.40625        0.05078125
## 2        12           6            0.37500        0.06250000
## 3         3           6            0.09375        0.01562500
## 4         4           5            0.12500        0.02500000</code></pre>
<p>When multiplied by the class width, the product will always sum upto 1.</p>
<pre class="r"><code>sum(d$frequency_density * d$class_width)</code></pre>
<pre><code>## [1] 1</code></pre>
<p>We will learn more about frequency density in a bit. Before we end this section, we need to learn about one more way to specify the intervals of the histogram, algorithms. The <code>hist()</code> function allows us to specify the following algorithms:</p>
<ul>
<li>Sturges (default)</li>
<li>Scott</li>
<li>Freedman-Diaconis (FD)</li>
</ul>
<p>In the below plot, we examine how th algorithms work:</p>
<p><img src="../../post/2017-05-17-data-visualization-with-r-histogram_files/figure-html/hist10-1.png" width="1440" style="display: block; margin: auto;" /></p>
</div>
<div id="frequency-distribution-ii" class="section level4">
<h4>Frequency Distribution II</h4>
<p>Let us come back to frequency density. If you want the Y axis of the histogram to represent frequency density instead of counts, set the <code>freq</code> argument to <code>FALSE</code>.</p>
<p><img src="../../post/2017-05-17-data-visualization-with-r-histogram_files/figure-html/hist11-1.png" width="960" style="display: block; margin: auto;" /></p>
<p>The same result can be achieved by using the <code>probability</code> argument as well. It takes only logical values as inputs and the default is <code>FALSE</code>. If set to <code>TRUE</code>, the Y axis will represent the frequency density instead of counts.</p>
<pre class="r"><code>hist(mtcars$mpg, probability = TRUE)</code></pre>
<p><img src="../../post/2017-05-17-data-visualization-with-r-histogram_files/figure-html/hist12-1.png" width="480" style="display: block; margin: auto;" /></p>
</div>
<div id="color" class="section level4">
<h4>Color</h4>
<p>To add colors to the bars of the histogram, use the <code>col</code> argument. If the number of colors specified is less than the number of bars, the colors are recycled. Below are a few examples:</p>
<div id="single-color" class="section level5">
<h5>Single Color</h5>
<p><img src="../../post/2017-05-17-data-visualization-with-r-histogram_files/figure-html/hist13-1.png" width="480" style="display: block; margin: auto;" /></p>
</div>
<div id="different-colors" class="section level5">
<h5>Different Colors</h5>
<p><img src="../../post/2017-05-17-data-visualization-with-r-histogram_files/figure-html/hist14-1.png" width="480" style="display: block; margin: auto;" /></p>
</div>
<div id="recycled-colors" class="section level5">
<h5>Recycled Colors</h5>
<p><img src="../../post/2017-05-17-data-visualization-with-r-histogram_files/figure-html/hist15-1.png" width="480" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="border-color" class="section level4">
<h4>Border Color</h4>
<p>Colors can be specified for the borders of the histogrambars using the <code>border</code> argument.</p>
<div id="different-colors-1" class="section level5">
<h5>Different Colors</h5>
<p><img src="../../post/2017-05-17-data-visualization-with-r-histogram_files/figure-html/hist16-1.png" width="480" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="labels" class="section level4">
<h4>Labels</h4>
<p>In certain cases, we might want to add the frequency counts on the histogram bars. It is easier for the user to know the frequencies of each bin when they are present on top of the bars. Let us add the frequency counts on top of the bars using the <code>labels</code> argument. We can either set it to <code>TRUE</code> or a character vector containing the label values. Let us look at both the methods.</p>
<div id="method-1" class="section level5">
<h5>Method 1</h5>
<p>Set <code>labels</code> to <code>TRUE</code>.</p>
<p><img src="../../post/2017-05-17-data-visualization-with-r-histogram_files/figure-html/hist17-1.png" width="480" style="display: block; margin: auto;" /></p>
</div>
<div id="method-2" class="section level5">
<h5>Method 2</h5>
<p>Specify the label values in a character vector.</p>
<p><img src="../../post/2017-05-17-data-visualization-with-r-histogram_files/figure-html/hist18-1.png" width="480" style="display: block; margin: auto;" /></p>
<p>Before we end this post, let us add a title and axis labels to the histogram. If you do not know how to add title and axis labels, refer to this <a href="https://rsquaredacademy.github.io/blog/post/data-visualization-with-r-title-and-axis-labels/">post</a>.</p>
<pre class="r"><code>hist(mtcars$mpg, labels = TRUE, prob = TRUE,
     ylim = c(0, 0.1), xlab = &#39;Miles Per Gallon&#39;,
     main = &#39;Distribution of Miles Per Gallon&#39;,
     col = rainbow(5))</code></pre>
<p><img src="../../post/2017-05-17-data-visualization-with-r-histogram_files/figure-html/hist19-1.png" width="672" /></p>
</div>
</div>
</div>
<div id="summary" class="section level3">
<h3>Summary</h3>
<p>In this post, we learnt how to construct and use histograms to examine the underlying distribution of a continuous variable. Specifically, we learnt how to:</p>
<ul>
<li>create a bare bones histogram</li>
<li>specify the number of bins/intervals</li>
<li>represent frequency density on the Y axis</li>
<li>add colors to the bars and the border</li>
<li>add labels to the bars</li>
</ul>
<p>In the next post, we will learn to add legend to plots.</p>
</div>


  
<div class="prev-next-post pure-g">
  <div class="pure-u-1-24" style="text-align: left;">
    
    <a href="../../post/data-visualization-with-r-box-plots/"><i class="fa fa-chevron-left"></i></a>
    
  </div>
  <div class="pure-u-10-24">
    
    <nav class="prev">
      <a href="../../post/data-visualization-with-r-box-plots/">Data Visualization with R - Box Plots</a>
    </nav>
    
  </div>
  <div class="pure-u-2-24">
    &nbsp;
  </div>
  <div class="pure-u-10-24">
    
    <nav class="next">
      <a href="../../post/data-visualization-with-r-legends/">Data Visualization with R - Legends</a>
    </nav>
    
  </div>
  <div class="pure-u-1-24" style="text-align: right;">
    
    <a href="../../post/data-visualization-with-r-legends/"><i class="fa fa-chevron-right"></i></a>
    
  </div>
</div>



  

</div>

</div>
</div>
<script src="../../js/ui.js"></script>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-57270671-2', 'auto');
  ga('send', 'pageview');

</script>



</body>
</html>

