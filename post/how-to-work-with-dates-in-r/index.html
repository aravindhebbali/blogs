<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="generator" content="Hugo 0.19" />

  <title>How to work with dates in R &middot; Rsquared Academy Blog</title>

  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.2/pure-min.css">

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.2/grids-responsive-old-ie-min.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.2/grids-responsive-min.css">
  <!--<![endif]-->

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="../../css/side-menu-old-ie.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="../../css/side-menu.css">
  <!--<![endif]-->

  <link rel="stylesheet" href="../../css/blackburn.css">

  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

  
  <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet" type="text/css">

  
  

  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/styles/github.min.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  

  <link rel="shortcut icon" href="../../img/favicon.ico" type="image/x-icon" />


  
  

</head>


<body>
<div id="layout">

  
<a href="#menu" id="menuLink" class="menu-link">
  
  <span></span>
</a>
<div id="menu">

  
  <a class="pure-menu-heading brand" href="../../"><img src="../../img/logo.png" alt="Mapflat logo"></a>


  <div class="pure-menu">
    <ul class="pure-menu-list">
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="../../"><i class='fa fa-home fa-fw'></i>Home</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="../../start-here"><i class='fa fa-play fa-fw'></i>New? Start Here</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="../../post/"><i class='fa fa-list fa-fw'></i>Posts</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="../../topics"><i class='fa fa-bars fa-fw'></i>Topics</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://rsquaredacademy.github.io/"><i class='fa fa-graduation-cap fa-fw'></i>Courses</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="http://rsquaredlabs.com:3838/explorer/"><i class='fa fa-cube fa-fw'></i>Shiny Apps</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://rsquaredacademy.github.io/pkgs/"><i class='fa fa-code fa-fw'></i>Packages</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="../../about/"><i class='fa fa-user fa-fw'></i>About</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="../../subscribe/"><i class='fa fa-envelope fa-fw'></i>Subscribe</a>
      
        </li>
      
    </ul>
  </div>

  <div class="pure-menu social">
  <ul class="pure-menu-list">

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://twitter.com/rsquaredacademy" target="_blank"><i class="fa fa-twitter-square fa-fw"></i>Twitter</a>
    </li>
    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://facebook.com/rsquaredacademy" target="_blank"><i class="fa fa-facebook-square fa-fw"></i>Facebook</a>
    </li>
    

    

    

    

    

    

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://youtube.com/user/rsquaredin" target="_blank"><i class="fa fa-youtube-square fa-fw"></i>YouTube</a>
    </li>
    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://vimeo.com/rsquaredacademy" target="_blank"><i class="fa fa-vimeo-square fa-fw"></i>Vimeo</a>
    </li>
    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="http://slideshare.net/rsquaredin" target="_blank"><i class="fa fa-slideshare fa-fw"></i>SlideShare</a>
    </li>
    

    

    

    

    

    

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://github.com/rsquaredacademy" target="_blank"><i class="fa fa-github-square fa-fw"></i>GitHub</a>
    </li>
    

    

    

    

    

    

    

    

    

    

    

    

    

  </ul>
</div>


  <div>
  <div class="small-print">
    <small>&copy; 2014-2017. All rights reserved.</small>
  </div>
  <div class="small-print">
    <small>Built with&nbsp;<a href="https://gohugo.io/" target="_blank">Hugo</a></small>
    <small>Theme&nbsp;<a href="https://github.com/yoshiharuyamashita/blackburn" target="_blank">Blackburn</a></small>
  </div>
</div>

</div>


  <div id="main">


<div class="header">
  <h1>How to work with dates in R</h1>
  <h2></h2>
</div>
<div class="content">

  <div class="post-meta">

  <div>
    <i class="fa fa-calendar fa-fw"></i>
    <time>09 Mar 2017</time>
  </div>

  

  
  
  
  <div>
    <i class="fa fa-folder fa-fw"></i>
    
      <a class="post-taxonomy-topic" href="../../topics/data-wrangling">data-wrangling</a>
    
  </div>
  
  

  
  
  
  <div>
    <i class="fa fa-tags fa-fw"></i>
    
      <a class="post-taxonomy-tag" href="../../tags/lubridate">lubridate</a>
    
  </div>
  
  

</div>

  <!-- BLOGDOWN-HEAD -->
<!-- /BLOGDOWN-HEAD -->

<!-- BLOGDOWN-BODY-BEFORE -->
<!-- /BLOGDOWN-BODY-BEFORE -->
<div id="introduction" class="section level2">
<h2>Introduction</h2>
<p>This is the 5th post in the series <strong>Data Wrangling with R</strong>. In the previous <a href="https://rsquaredacademy.github.io/post/data-manipulation-in-r-with-dplyr/">post</a>, we learnt to manipulate dataframes using the <a href="https://CRAN.R-project.org/package=dplyr">dplyr</a> package. In this post, we will learn to work with date/time data in R using <a href="https://CRAN.R-project.org/package=lubridate">lubridate</a>, an R package that makes it easy to work with dates and time. Let us begin by installing and loading the lubridate pacakge.</p>
<div id="quick-overview" class="section level3">
<h3>Quick Overview</h3>
<p>Use <code>origin</code> to get the origin for the <code>Date</code> and other date/time objects in R.</p>
<pre class="r"><code>lubridate::origin</code></pre>
<pre><code>## [1] &quot;1970-01-01 UTC&quot;</code></pre>
<p>There are functions to check current date, time, timezone and AM/PM. Let us take a quick look at these:</p>
<pre class="r"><code>now()</code></pre>
<pre><code>## [1] &quot;2017-06-22 16:44:09 IST&quot;</code></pre>
<pre class="r"><code>today()</code></pre>
<pre><code>## [1] &quot;2017-06-22&quot;</code></pre>
<pre class="r"><code>am(now())  </code></pre>
<pre><code>## [1] FALSE</code></pre>
<pre class="r"><code>pm(now())</code></pre>
<pre><code>## [1] TRUE</code></pre>
<p>We will use a case study to explore the lubridate package. The data set can be downloaded from here or directly imported using the readr package.</p>
<pre><code>## Parsed with column specification:
## cols(
##   Invoice = col_date(format = &quot;&quot;),
##   Due = col_date(format = &quot;&quot;),
##   Payment = col_date(format = &quot;&quot;)
## )</code></pre>
<p>The data set has 3 columns:</p>
<ul>
<li>Invoice: invoice date</li>
<li>Due: due date</li>
<li>Payment: payment date</li>
</ul>
<p>All the dates are in the format (yyyy-mm-dd). We will use the functions in the lubridate package to answer a few questions we have about the transact data.</p>
<ul>
<li>extract date, month and year from Due</li>
<li>compute the number of days to settle invoice</li>
<li>compute days over due</li>
<li>check if due year is a leap year</li>
<li>check when due day in february is 29, whether it is a leap year</li>
<li>how many invoices were settled within due date</li>
<li>how many invoices are due in each quarter</li>
<li>what is the average duration between invoice date and payment date</li>
</ul>
<pre class="r"><code>transact %&gt;%
  mutate(
    due_day = day(Due),
    due_month = month(Due),
    due_year = year(Due)
  )</code></pre>
<pre><code>## # A tibble: 2,466 x 6
##       Invoice        Due    Payment due_day due_month due_year
##        &lt;date&gt;     &lt;date&gt;     &lt;date&gt;   &lt;int&gt;     &lt;dbl&gt;    &lt;dbl&gt;
##  1 2013-01-02 2013-02-01 2013-01-15       1         2     2013
##  2 2013-01-26 2013-02-25 2013-03-03      25         2     2013
##  3 2013-07-03 2013-08-02 2013-07-08       2         8     2013
##  4 2013-02-10 2013-03-12 2013-03-17      12         3     2013
##  5 2012-10-25 2012-11-24 2012-11-28      24        11     2012
##  6 2012-01-27 2012-02-26 2012-02-22      26         2     2012
##  7 2013-08-13 2013-09-12 2013-09-09      12         9     2013
##  8 2012-12-16 2013-01-15 2013-01-12      15         1     2013
##  9 2012-05-14 2012-06-13 2012-07-01      13         6     2012
## 10 2013-07-01 2013-07-31 2013-07-26      31         7     2013
## # ... with 2,456 more rows</code></pre>
<pre class="r"><code>transact %&gt;%
  mutate(
    days_to_pay = Payment - Invoice
  )</code></pre>
<pre><code>## # A tibble: 2,466 x 4
##       Invoice        Due    Payment days_to_pay
##        &lt;date&gt;     &lt;date&gt;     &lt;date&gt;      &lt;time&gt;
##  1 2013-01-02 2013-02-01 2013-01-15     13 days
##  2 2013-01-26 2013-02-25 2013-03-03     36 days
##  3 2013-07-03 2013-08-02 2013-07-08      5 days
##  4 2013-02-10 2013-03-12 2013-03-17     35 days
##  5 2012-10-25 2012-11-24 2012-11-28     34 days
##  6 2012-01-27 2012-02-26 2012-02-22     26 days
##  7 2013-08-13 2013-09-12 2013-09-09     27 days
##  8 2012-12-16 2013-01-15 2013-01-12     27 days
##  9 2012-05-14 2012-06-13 2012-07-01     48 days
## 10 2013-07-01 2013-07-31 2013-07-26     25 days
## # ... with 2,456 more rows</code></pre>
<pre class="r"><code>transact %&gt;%
  mutate(
    delay = Payment - Due
  )</code></pre>
<pre><code>## # A tibble: 2,466 x 4
##       Invoice        Due    Payment    delay
##        &lt;date&gt;     &lt;date&gt;     &lt;date&gt;   &lt;time&gt;
##  1 2013-01-02 2013-02-01 2013-01-15 -17 days
##  2 2013-01-26 2013-02-25 2013-03-03   6 days
##  3 2013-07-03 2013-08-02 2013-07-08 -25 days
##  4 2013-02-10 2013-03-12 2013-03-17   5 days
##  5 2012-10-25 2012-11-24 2012-11-28   4 days
##  6 2012-01-27 2012-02-26 2012-02-22  -4 days
##  7 2013-08-13 2013-09-12 2013-09-09  -3 days
##  8 2012-12-16 2013-01-15 2013-01-12  -3 days
##  9 2012-05-14 2012-06-13 2012-07-01  18 days
## 10 2013-07-01 2013-07-31 2013-07-26  -5 days
## # ... with 2,456 more rows</code></pre>
<pre class="r"><code>transact %&gt;%
  mutate(
    due_year = year(Due),
    is_leap = leap_year(due_year)
  )</code></pre>
<pre><code>## # A tibble: 2,466 x 5
##       Invoice        Due    Payment due_year is_leap
##        &lt;date&gt;     &lt;date&gt;     &lt;date&gt;    &lt;dbl&gt;   &lt;lgl&gt;
##  1 2013-01-02 2013-02-01 2013-01-15     2013   FALSE
##  2 2013-01-26 2013-02-25 2013-03-03     2013   FALSE
##  3 2013-07-03 2013-08-02 2013-07-08     2013   FALSE
##  4 2013-02-10 2013-03-12 2013-03-17     2013   FALSE
##  5 2012-10-25 2012-11-24 2012-11-28     2012    TRUE
##  6 2012-01-27 2012-02-26 2012-02-22     2012    TRUE
##  7 2013-08-13 2013-09-12 2013-09-09     2013   FALSE
##  8 2012-12-16 2013-01-15 2013-01-12     2013   FALSE
##  9 2012-05-14 2012-06-13 2012-07-01     2012    TRUE
## 10 2013-07-01 2013-07-31 2013-07-26     2013   FALSE
## # ... with 2,456 more rows</code></pre>
<pre class="r"><code>transact %&gt;%
  mutate(
    due_day = day(Due),
    due_month = month(Due),
    days_due_month = days_in_month(due_month),
    due_year = year(Due),
    is_leap = leap_year(due_year)
  ) %&gt;%
  select(-(Invoice), -(Payment)) %&gt;%
  filter(due_month == 2)</code></pre>
<pre><code>## # A tibble: 187 x 6
##           Due due_day due_month days_due_month due_year is_leap
##        &lt;date&gt;   &lt;int&gt;     &lt;dbl&gt;          &lt;int&gt;    &lt;dbl&gt;   &lt;lgl&gt;
##  1 2013-02-01       1         2             28     2013   FALSE
##  2 2013-02-25      25         2             28     2013   FALSE
##  3 2012-02-26      26         2             28     2012    TRUE
##  4 2013-02-05       5         2             28     2013   FALSE
##  5 2012-02-23      23         2             28     2012    TRUE
##  6 2012-02-12      12         2             28     2012    TRUE
##  7 2012-02-12      12         2             28     2012    TRUE
##  8 2012-02-02       2         2             28     2012    TRUE
##  9 2012-02-21      21         2             28     2012    TRUE
## 10 2012-02-29      29         2             28     2012    TRUE
## # ... with 177 more rows</code></pre>
<pre class="r"><code>transact %&gt;%
  mutate(
    inv_due_interval = interval(Invoice, Due),
    due_next = Due + days(1),
    due_pay_interval = interval(due_next, Payment),
    overlaps = int_overlaps(inv_due_interval, due_pay_interval)
  ) %&gt;%
  select(inv_due_interval, due_next, due_pay_interval, overlaps)</code></pre>
<pre><code>## # A tibble: 2,466 x 4
##                  inv_due_interval   due_next
##                    &lt;S4: Interval&gt;     &lt;date&gt;
##  1 2013-01-02 UTC--2013-02-01 UTC 2013-02-02
##  2 2013-01-26 UTC--2013-02-25 UTC 2013-02-26
##  3 2013-07-03 UTC--2013-08-02 UTC 2013-08-03
##  4 2013-02-10 UTC--2013-03-12 UTC 2013-03-13
##  5 2012-10-25 UTC--2012-11-24 UTC 2012-11-25
##  6 2012-01-27 UTC--2012-02-26 UTC 2012-02-27
##  7 2013-08-13 UTC--2013-09-12 UTC 2013-09-13
##  8 2012-12-16 UTC--2013-01-15 UTC 2013-01-16
##  9 2012-05-14 UTC--2012-06-13 UTC 2012-06-14
## 10 2013-07-01 UTC--2013-07-31 UTC 2013-08-01
## # ... with 2,456 more rows, and 2 more variables: due_pay_interval &lt;S4:
## #   Interval&gt;, overlaps &lt;lgl&gt;</code></pre>
<pre class="r"><code># using int_shift
transact %&gt;%
  mutate(
    inv_due_interval = interval(Invoice, Due),
    due_pay_interval = interval(Due, Payment),  
    due_pay_next = int_shift(due_pay_interval, by = days(1)),
    overlaps = int_overlaps(inv_due_interval, due_pay_next)
  ) %&gt;%
  select(inv_due_interval, due_pay_next, overlaps)</code></pre>
<pre><code>## # A tibble: 2,466 x 3
##                  inv_due_interval                   due_pay_next overlaps
##                    &lt;S4: Interval&gt;                 &lt;S4: Interval&gt;    &lt;lgl&gt;
##  1 2013-01-02 UTC--2013-02-01 UTC 2013-02-02 UTC--2013-01-16 UTC     TRUE
##  2 2013-01-26 UTC--2013-02-25 UTC 2013-02-26 UTC--2013-03-04 UTC    FALSE
##  3 2013-07-03 UTC--2013-08-02 UTC 2013-08-03 UTC--2013-07-09 UTC     TRUE
##  4 2013-02-10 UTC--2013-03-12 UTC 2013-03-13 UTC--2013-03-18 UTC    FALSE
##  5 2012-10-25 UTC--2012-11-24 UTC 2012-11-25 UTC--2012-11-29 UTC    FALSE
##  6 2012-01-27 UTC--2012-02-26 UTC 2012-02-27 UTC--2012-02-23 UTC     TRUE
##  7 2013-08-13 UTC--2013-09-12 UTC 2013-09-13 UTC--2013-09-10 UTC     TRUE
##  8 2012-12-16 UTC--2013-01-15 UTC 2013-01-16 UTC--2013-01-13 UTC     TRUE
##  9 2012-05-14 UTC--2012-06-13 UTC 2012-06-14 UTC--2012-07-02 UTC    FALSE
## 10 2013-07-01 UTC--2013-07-31 UTC 2013-08-01 UTC--2013-07-27 UTC     TRUE
## # ... with 2,456 more rows</code></pre>
<pre class="r"><code>transact %&gt;%
  mutate(
    inv_due_interval = interval(Invoice, Due),
    overlaps = Payment %within% inv_due_interval
  ) %&gt;%
  select(Due, Payment, overlaps)</code></pre>
<pre><code>## # A tibble: 2,466 x 3
##           Due    Payment overlaps
##        &lt;date&gt;     &lt;date&gt;    &lt;lgl&gt;
##  1 2013-02-01 2013-01-15     TRUE
##  2 2013-02-25 2013-03-03    FALSE
##  3 2013-08-02 2013-07-08     TRUE
##  4 2013-03-12 2013-03-17    FALSE
##  5 2012-11-24 2012-11-28    FALSE
##  6 2012-02-26 2012-02-22     TRUE
##  7 2013-09-12 2013-09-09     TRUE
##  8 2013-01-15 2013-01-12     TRUE
##  9 2012-06-13 2012-07-01    FALSE
## 10 2013-07-31 2013-07-26     TRUE
## # ... with 2,456 more rows</code></pre>
<pre class="r"><code>transact %&gt;%
  mutate(
    Quarter = quarter(Due)
  )</code></pre>
<pre><code>## # A tibble: 2,466 x 4
##       Invoice        Due    Payment Quarter
##        &lt;date&gt;     &lt;date&gt;     &lt;date&gt;   &lt;dbl&gt;
##  1 2013-01-02 2013-02-01 2013-01-15       1
##  2 2013-01-26 2013-02-25 2013-03-03       1
##  3 2013-07-03 2013-08-02 2013-07-08       3
##  4 2013-02-10 2013-03-12 2013-03-17       1
##  5 2012-10-25 2012-11-24 2012-11-28       4
##  6 2012-01-27 2012-02-26 2012-02-22       1
##  7 2013-08-13 2013-09-12 2013-09-09       3
##  8 2012-12-16 2013-01-15 2013-01-12       1
##  9 2012-05-14 2012-06-13 2012-07-01       2
## 10 2013-07-01 2013-07-31 2013-07-26       3
## # ... with 2,456 more rows</code></pre>
<pre class="r"><code>transact %&gt;%
  mutate(
    Quarter = quarter(Due, with_year = TRUE)
  )</code></pre>
<pre><code>## # A tibble: 2,466 x 4
##       Invoice        Due    Payment Quarter
##        &lt;date&gt;     &lt;date&gt;     &lt;date&gt;   &lt;dbl&gt;
##  1 2013-01-02 2013-02-01 2013-01-15  2013.1
##  2 2013-01-26 2013-02-25 2013-03-03  2013.1
##  3 2013-07-03 2013-08-02 2013-07-08  2013.3
##  4 2013-02-10 2013-03-12 2013-03-17  2013.1
##  5 2012-10-25 2012-11-24 2012-11-28  2012.4
##  6 2012-01-27 2012-02-26 2012-02-22  2012.1
##  7 2013-08-13 2013-09-12 2013-09-09  2013.3
##  8 2012-12-16 2013-01-15 2013-01-12  2013.1
##  9 2012-05-14 2012-06-13 2012-07-01  2012.2
## 10 2013-07-01 2013-07-31 2013-07-26  2013.3
## # ... with 2,456 more rows</code></pre>
<pre class="r"><code>transact %&lt;&gt;%
  mutate(
    days_to_pay = Payment - Invoice
  )

transact %&gt;%
  mutate(
    dseconds = duration(as.numeric(days_to_pay), &#39;days&#39;)
  )</code></pre>
<pre><code>## # A tibble: 2,466 x 5
##       Invoice        Due    Payment days_to_pay            dseconds
##        &lt;date&gt;     &lt;date&gt;     &lt;date&gt;      &lt;time&gt;      &lt;S4: Duration&gt;
##  1 2013-01-02 2013-02-01 2013-01-15     13 days 1123200s (~13 days)
##  2 2013-01-26 2013-02-25 2013-03-03     36 days 3110400s (~36 days)
##  3 2013-07-03 2013-08-02 2013-07-08      5 days   432000s (~5 days)
##  4 2013-02-10 2013-03-12 2013-03-17     35 days 3024000s (~35 days)
##  5 2012-10-25 2012-11-24 2012-11-28     34 days 2937600s (~34 days)
##  6 2012-01-27 2012-02-26 2012-02-22     26 days 2246400s (~26 days)
##  7 2013-08-13 2013-09-12 2013-09-09     27 days 2332800s (~27 days)
##  8 2012-12-16 2013-01-15 2013-01-12     27 days 2332800s (~27 days)
##  9 2012-05-14 2012-06-13 2012-07-01     48 days 4147200s (~48 days)
## 10 2013-07-01 2013-07-31 2013-07-26     25 days 2160000s (~25 days)
## # ... with 2,456 more rows</code></pre>
<pre class="r"><code>transact %&lt;&gt;%
  mutate(
    inv_pay_int = interval(Invoice, Payment)
  )</code></pre>
<pre class="r"><code>transact %&gt;%
  mutate(
    inv_pay_days = inv_pay_int / ddays()
  )</code></pre>
<pre><code>## # A tibble: 2,466 x 6
##       Invoice        Due    Payment days_to_pay
##        &lt;date&gt;     &lt;date&gt;     &lt;date&gt;      &lt;time&gt;
##  1 2013-01-02 2013-02-01 2013-01-15     13 days
##  2 2013-01-26 2013-02-25 2013-03-03     36 days
##  3 2013-07-03 2013-08-02 2013-07-08      5 days
##  4 2013-02-10 2013-03-12 2013-03-17     35 days
##  5 2012-10-25 2012-11-24 2012-11-28     34 days
##  6 2012-01-27 2012-02-26 2012-02-22     26 days
##  7 2013-08-13 2013-09-12 2013-09-09     27 days
##  8 2012-12-16 2013-01-15 2013-01-12     27 days
##  9 2012-05-14 2012-06-13 2012-07-01     48 days
## 10 2013-07-01 2013-07-31 2013-07-26     25 days
## # ... with 2,456 more rows, and 2 more variables: inv_pay_int &lt;S4:
## #   Interval&gt;, inv_pay_days &lt;dbl&gt;</code></pre>
<pre class="r"><code>transact %&gt;%
  mutate(
    inv_pay_days = time_length(inv_pay_int, unit = &quot;days&quot;)
  )</code></pre>
<pre><code>## # A tibble: 2,466 x 6
##       Invoice        Due    Payment days_to_pay
##        &lt;date&gt;     &lt;date&gt;     &lt;date&gt;      &lt;time&gt;
##  1 2013-01-02 2013-02-01 2013-01-15     13 days
##  2 2013-01-26 2013-02-25 2013-03-03     36 days
##  3 2013-07-03 2013-08-02 2013-07-08      5 days
##  4 2013-02-10 2013-03-12 2013-03-17     35 days
##  5 2012-10-25 2012-11-24 2012-11-28     34 days
##  6 2012-01-27 2012-02-26 2012-02-22     26 days
##  7 2013-08-13 2013-09-12 2013-09-09     27 days
##  8 2012-12-16 2013-01-15 2013-01-12     27 days
##  9 2012-05-14 2012-06-13 2012-07-01     48 days
## 10 2013-07-01 2013-07-31 2013-07-26     25 days
## # ... with 2,456 more rows, and 2 more variables: inv_pay_int &lt;S4:
## #   Interval&gt;, inv_pay_days &lt;dbl&gt;</code></pre>
<pre class="r"><code>transact %&gt;%
  mutate(
    inv_pay_days = as.period(inv_pay_int)
  )</code></pre>
<pre><code>## # A tibble: 2,466 x 6
##       Invoice        Due    Payment days_to_pay
##        &lt;date&gt;     &lt;date&gt;     &lt;date&gt;      &lt;time&gt;
##  1 2013-01-02 2013-02-01 2013-01-15     13 days
##  2 2013-01-26 2013-02-25 2013-03-03     36 days
##  3 2013-07-03 2013-08-02 2013-07-08      5 days
##  4 2013-02-10 2013-03-12 2013-03-17     35 days
##  5 2012-10-25 2012-11-24 2012-11-28     34 days
##  6 2012-01-27 2012-02-26 2012-02-22     26 days
##  7 2013-08-13 2013-09-12 2013-09-09     27 days
##  8 2012-12-16 2013-01-15 2013-01-12     27 days
##  9 2012-05-14 2012-06-13 2012-07-01     48 days
## 10 2013-07-01 2013-07-31 2013-07-26     25 days
## # ... with 2,456 more rows, and 2 more variables: inv_pay_int &lt;S4:
## #   Interval&gt;, inv_pay_days &lt;S4: Period&gt;</code></pre>
</div>
</div>


  
<div class="prev-next-post pure-g">
  <div class="pure-u-1-24" style="text-align: left;">
    
    <a href="../../post/data-manipulation-in-r-with-dplyr-part-1/"><i class="fa fa-chevron-left"></i></a>
    
  </div>
  <div class="pure-u-10-24">
    
    <nav class="prev">
      <a href="../../post/data-manipulation-in-r-with-dplyr-part-1/">Data Manipulation in R with dplyr - Part 1</a>
    </nav>
    
  </div>
  <div class="pure-u-2-24">
    &nbsp;
  </div>
  <div class="pure-u-10-24">
    
    <nav class="next">
      <a href="../../post/working-with-strings-in-r-using-stringr/">Working with strings in R using stringr</a>
    </nav>
    
  </div>
  <div class="pure-u-1-24" style="text-align: right;">
    
    <a href="../../post/working-with-strings-in-r-using-stringr/"><i class="fa fa-chevron-right"></i></a>
    
  </div>
</div>



  

</div>

</div>
</div>
<script src="../../js/ui.js"></script>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-57270671-2', 'auto');
  ga('send', 'pageview');

</script>



</body>
</html>

