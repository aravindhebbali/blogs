<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Lubridate on Rsquared Academy Blog</title>
    <link>/tags/lubridate/index.xml</link>
    <description>Recent content in Lubridate on Rsquared Academy Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <copyright>&amp;copy; 2014-2017. All rights reserved.</copyright>
    <atom:link href="/tags/lubridate/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>How to work with dates in R</title>
      <link>/post/how-to-work-with-dates-in-r/</link>
      <pubDate>Thu, 09 Mar 2017 00:00:00 +0000</pubDate>
      
      <guid>/post/how-to-work-with-dates-in-r/</guid>
      <description>&lt;!-- BLOGDOWN-HEAD --&gt;
&lt;!-- /BLOGDOWN-HEAD --&gt;

&lt;!-- BLOGDOWN-BODY-BEFORE --&gt;
&lt;!-- /BLOGDOWN-BODY-BEFORE --&gt;
&lt;div id=&#34;introduction&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Introduction&lt;/h2&gt;
&lt;p&gt;This is the 5th post in the series &lt;strong&gt;Data Wrangling with R&lt;/strong&gt;. In the previous &lt;a href=&#34;https://rsquaredacademy.github.io/post/data-manipulation-in-r-with-dplyr/&#34;&gt;post&lt;/a&gt;, we learnt to manipulate dataframes using the &lt;a href=&#34;https://CRAN.R-project.org/package=dplyr&#34;&gt;dplyr&lt;/a&gt; package. In this post, we will learn to work with date/time data in R using &lt;a href=&#34;https://CRAN.R-project.org/package=lubridate&#34;&gt;lubridate&lt;/a&gt;, an R package that makes it easy to work with dates and time. Let us begin by installing and loading the lubridate pacakge.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;## Loading required package: methods&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## 
## Attaching package: &amp;#39;lubridate&amp;#39;&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## The following object is masked from &amp;#39;package:base&amp;#39;:
## 
##     date&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;quick-overview&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Quick Overview&lt;/h3&gt;
&lt;p&gt;Use &lt;code&gt;origin&lt;/code&gt; to get the origin for the &lt;code&gt;Date&lt;/code&gt; and other date/time objects in R.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;lubridate::origin&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;1970-01-01 UTC&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;There are functions to check current date, time, timezone and AM/PM. Let us take a quick look at these:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;now()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;2017-06-15 13:23:43 IST&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;today()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;2017-06-15&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;am(now())  &lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] FALSE&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;pm(now())&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] TRUE&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In order to explore all the functionality provided by the lubridate package, we will look at a simple scenario. Let us say you are going on a vacation to Atlanta. You plan to reach there on 10th April 2017 and end your vacation on 18th April 2017. Let us save these dates as &lt;em&gt;arrival&lt;/em&gt; and &lt;em&gt;departure&lt;/em&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;add-hour-minute-and-seconds&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;add hour, minute and seconds&lt;/h1&gt;
&lt;p&gt;arrived &amp;lt;- ymd_hms(‘2017-04-13 12:00:00’) departure &amp;lt;- ymd_hms(‘2017-05-07 12:00:00’)&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;specify-timezone&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;specify timezone&lt;/h1&gt;
&lt;p&gt;arrived &amp;lt;- ymd_hms(‘2017-05-08 20:34:18’, tz = ‘UTC’) arrived&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;duration&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;duration&lt;/h1&gt;
&lt;p&gt;dur &amp;lt;- duration(hours = 10, minutes = 6) as.numeric(dur, “hours”) as.numeric(dur, “minutes”)&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;day-light-savings-time&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;day light savings time&lt;/h1&gt;
&lt;p&gt;dst(arrived)&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;number-of-days-in-a-month&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;number of days in a month&lt;/h1&gt;
&lt;p&gt;days_in_month(10)&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;parse-dates-and-times&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;parse dates and times&lt;/h1&gt;
&lt;p&gt;ymd(20170508) mdy(‘05-08-2017’) dmy(‘08/05/2017’)&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;set-and-extract-information-from-timezone&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;set and extract information from timezone&lt;/h1&gt;
&lt;p&gt;date(arrived) second(arrived) minute(arrived) hour(arrived) day(arrived) wday(arrived) yday(arrived) week(arrived) month(arrived) year(arrived)&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;time-intervals&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;time intervals&lt;/h1&gt;
&lt;p&gt;stay &amp;lt;- interval(arrived, departure) stay&lt;/p&gt;
&lt;p&gt;outing &amp;lt;- interval(ymd(20170420), ymd(20170428)) outing&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;do-stay-and-outing-overlap&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;do stay and outing overlap&lt;/h1&gt;
&lt;p&gt;int_overlaps(stay, outing) setdiff(outing, stay)&lt;/p&gt;
&lt;p&gt;int_start(stay) int_end(stay) int_flip(stay) int_shift(stay, by = duration(days = 2)) int_shift(stay, by = duration(hours = 2))&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;arithmetic-with-datetimes&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;arithmetic with date/times&lt;/h1&gt;
&lt;p&gt;minutes(2) dminutes(2)&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;check-if-a-year-is-leap-year&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;check if a year is leap year&lt;/h1&gt;
&lt;p&gt;leap_year(2017)&lt;/p&gt;
&lt;p&gt;ymd(20160131) + years(1) ymd(20160131) + dyears(1) # adds 365 days&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;meeting&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;meeting&lt;/h1&gt;
&lt;p&gt;meeting &amp;lt;- ymd_hms(“2016-07-01 09:00:00”) meetings &amp;lt;- meeting + week(0:5)&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;convert-stay-to-days-hours-seconds&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;convert stay to days, hours, seconds&lt;/h1&gt;
&lt;p&gt;stay / ddays(1) stay / ddays(2) stay / dhours() stay / dminutes() stay / dseconds() time_length(stay) stay %% months(1)&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;convert-seconds-to-minutes&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;convert seconds to minutes&lt;/h1&gt;
&lt;p&gt;make_difftime(112, units = ‘minutes’) make_difftime(112, units = ‘hour’)&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;how-long-was-my-stay&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;how long was my stay&lt;/h1&gt;
&lt;p&gt;as.period(stay %% months(1)) as.period(stay)&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;use-lubridate-inside-functions&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;1. use lubridate inside functions&lt;/h1&gt;
&lt;/div&gt;
&lt;div id=&#34;make_difftimedays-31&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;2. make_difftime(days = 31)&lt;/h1&gt;
&lt;/div&gt;
&lt;div id=&#34;period&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;3. period&lt;/h1&gt;
&lt;/div&gt;
&lt;div id=&#34;quarter&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;4. quarter&lt;/h1&gt;
&lt;/div&gt;
&lt;div id=&#34;semester&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;5. semester&lt;/h1&gt;
&lt;/div&gt;
&lt;div id=&#34;rollback&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;6. rollback&lt;/h1&gt;
&lt;/div&gt;
&lt;div id=&#34;round-date-floor-date-ceiling-date&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;7. round date, floor date, ceiling date&lt;/h1&gt;
&lt;/div&gt;
&lt;div id=&#34;link-to-lubridate-page-on-cran&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;link to lubridate page on CRAN&lt;/h1&gt;
&lt;/div&gt;
&lt;div id=&#34;link-to-lubridate-paper&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;link to lubridate paper&lt;/h1&gt;
&lt;/div&gt;
</description>
    </item>
    
  </channel>
</rss>